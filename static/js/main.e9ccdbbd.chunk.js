(this["webpackJsonpchatapp-reactfirebase"]=this["webpackJsonpchatapp-reactfirebase"]||[]).push([[0],{60:function(e,t,n){},61:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var i,a,c,r=n(2),s=n.n(r),o=n(24),d=n.n(o),u=(n(60),n(20)),j=(n(61),n(33)),p=n(23),l=p.a.initializeApp({apiKey:"AIzaSyBCvadZmNz-iFhjnNu6PvZySVpsqIXWFPw",authDomain:"chatapp-67f51.firebaseapp.com",projectId:"chatapp-67f51",storageBucket:"chatapp-67f51.appspot.com",messagingSenderId:"65957611780",appId:"1:65957611780:web:ada627978c231eb9f7a851",measurementId:"G-0KL10X2VNN"}).firestore(),f=p.a.auth(),b=n(90),h=n(34),x=n(89),O=(n.p,n(6));Object(h.a)(x.a.div)(i||(i=Object(j.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  background: b;\n  font-size: 2rem;\n"]))),Object(h.a)(x.a.img)(a||(a=Object(j.a)(["\ndisplay: flex;\njustify-content: center;\nalign-items: center;\nwidth: 100%\nheight: 100%;\n"]))),Object(h.a)(x.a.div)(c||(c=Object(j.a)(["\n  position: absolute;\n\n  font-size: 2rem;\n"])));var g=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),n=t[0],i=t[1];return Object(r.useEffect)((function(){i(!0),setTimeout((function(){i(!1)}),0)}),[]),Object(O.jsx)(O.Fragment,{children:n?Object(O.jsx)(O.Fragment,{}):Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{style:{display:"flex",justifyContent:"center",height:"100vh",alignItems:"center"},children:Object(O.jsx)(b.a,{style:{padding:"30px",fontSize:"20px",borderRadius:"0",fontWeight:"600"},onClick:function(){var e=new p.a.auth.GoogleAuthProvider;f.signInWithPopup(e)},children:"Sign In With Google"})})})})};var m=function(){return Object(O.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",position:"fixed",width:"100%",backgroundColor:"#FAFAFA",top:0,borderBottom:"solid 1px lightgray",zIndex:"10"},children:Object(O.jsx)(b.a,{style:{padding:"20px",fontSize:"15px",borderRadius:"0",fontWeight:"600"},onClick:function(){return f.signOut()},children:"Sign Out"})})},v=n(40),y=n.n(v),S=n(50),w=n(51),I=n(91);var z=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),n=t[0],i=t[1];function a(){return(a=Object(w.a)(y.a.mark((function e(t){var a,c,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=f.currentUser,c=a.uid,r=a.photoURL,e.next=4,l.collection("messages").add({text:n,photoURL:r,uid:c,createdAt:p.a.firestore.FieldValue.serverTimestamp()});case 4:i("");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(O.jsx)("div",{children:Object(O.jsx)("form",{onSubmit:function(e){return a.apply(this,arguments)},children:Object(O.jsxs)("div",{className:"sendMsg",children:[Object(O.jsx)(I.a,{style:Object(S.a)({width:"78%",fontSize:"15px",fontWeight:"550",marginLeft:"5px",marginBottom:"-3px"},"marginLeft","4%"),value:n,onChange:function(e){return i(e.target.value)},placeholder:"Message..."}),Object(O.jsx)(b.a,{style:{width:"18%",fontSize:"15px",fontWeight:"550",margin:"4px 5% -13px 5%",maxWidth:"200px"},type:"submit",children:"Send"})]})})})};var F=function(){var e=Object(r.useRef)(),t=Object(r.useState)([]),n=Object(u.a)(t,2),i=n[0],a=n[1];return Object(r.useEffect)((function(){l.collection("messages").orderBy("createdAt").limit(50).onSnapshot((function(e){a(e.docs.map((function(e){return e.data()})))}))}),[]),Object(O.jsxs)("div",{children:[Object(O.jsx)(m,{}),Object(O.jsx)("div",{className:"msgs",children:i.map((function(e){var t=e.id,n=e.text,i=e.photoURL,a=e.uid;return Object(O.jsxs)("div",{className:"msg ".concat(a===f.currentUser.uid?"sent":"received"),children:[Object(O.jsx)("img",{src:i,alt:""}),Object(O.jsx)("p",{children:n})]},t)}))}),Object(O.jsx)(z,{scroll:e}),Object(O.jsx)("div",{ref:e})]})},k=n(52);var A=function(){var e=Object(k.a)(f),t=Object(u.a)(e,1)[0];return Object(O.jsx)(O.Fragment,{children:t?Object(O.jsx)(F,{}):Object(O.jsx)(g,{})})};d.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(A,{})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.e9ccdbbd.chunk.js.map